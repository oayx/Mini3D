#version 330
#extension GL_ARB_separate_shader_objects : require

struct type_CameraBuffer
{
    mat4 MATRIX_V;
    mat4 MATRIX_P;
    mat4 MATRIX_VP;
    mat4 MATRIX_I_VP;
    vec3 _WorldSpaceCameraPos;
    vec3 _WorldSpaceCameraDir;
    vec4 _ProjectionParams;
    vec4 _ScreenParams;
    vec4 _ZBufferParams;
};

uniform type_CameraBuffer CameraBuffer;

struct type_CustomBuffer
{
    vec4 _MainTex_TexelSize;
    vec4 _Intensity;
    mat4 _PRE_MATRIX_VP;
};

uniform type_CustomBuffer CustomBuffer;

uniform sampler2D _MainTex;
uniform sampler2D _CameraDepthTexture;

layout(location = 0) in vec2 var_TEXCOORD0;
layout(location = 0) out vec4 out_var_SV_Target;

void main()
{
    vec4 _52 = texture(_CameraDepthTexture, var_TEXCOORD0);
    vec4 _62 = vec4((var_TEXCOORD0.x * 2.0) - 1.0, (var_TEXCOORD0.y * 2.0) - 1.0, (_52.x * 2.0) - 1.0, 1.0);
    vec4 _65 = _62 * CameraBuffer.MATRIX_I_VP;
    vec4 _71 = (_65 / vec4(_65.w)) * CustomBuffer._PRE_MATRIX_VP;
    vec2 _82 = ((_62.xy - (_71 / vec4(_71.w)).xy) * vec2(0.5)) * CustomBuffer._Intensity.xy;
    vec2 _85;
    vec4 _88;
    _85 = var_TEXCOORD0 + _82;
    _88 = texture(_MainTex, var_TEXCOORD0);
    for (int _90 = 1; _90 < 3; )
    {
        vec4 _95 = texture(_MainTex, _85);
        _85 += _82;
        _88 += _95;
        _90++;
        continue;
    }
    out_var_SV_Target = _88 * vec4(0.3333333432674407958984375);
}

